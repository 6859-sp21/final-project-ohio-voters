(this["webpackJsonpfinal-project-ohio-voters"]=this["webpackJsonpfinal-project-ohio-voters"]||[]).push([[0],{124:function(t,e,i){},359:function(t,e,i){},492:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),o=i(170),s=i.n(o),r=(i(359),i(121)),c=i(35),l=(i(124),i(10)),u=i(13),p=i(18),d=i(19),h=i(6),f=["Lorem ipsum dolor sit amet, et mel dolorum probatus. Natum oblique luptatum duo ut, possit impedit voluptaria in sit. Ut his dicta mucius feugait, ius aperiam offendit mediocritatem cu. Sea errem prodesset eu, an pri vivendo eloquentiam. Ut mel conceptam dissentias. Atqui veniam his et, prompta bonorum detracto ea sit. Duo eros graece fabulas ut, accusam definitionem interpretaris id ius. No sea tale verear, est an purto decore. Ea porro dolor sed, vis vocent utroque id, vim ex affert equidem consetetur.  Brute harum dictas te eos, at duo inani homero vivendum, ei dico perfecto consectetuer vim. Id nec zril expetenda, eos erat libris sententiae id. Legendos consequuntur te duo, sed id libris eligendi suscipiantur. Eum stet populo complectitur ne, has malorum euismod deleniti ei. Eu amet fabulas oportere sea. In elit invidunt definitiones sed. Natum facilis ex eum, ignota ceteros scriptorem ex duo. Cu pro exerci nemore aliquam. Cu quis splendide ullamcorper sit, eam dolorem fierent ea, ei possit placerat fabellas sed. Et graece malorum pri. Salutatus hendrerit ne sit. Aeterno pertinax dissentiunt cu pro. Ius exerci maluisset patrioque no, ne usu adolescens voluptaria. Deleniti complectitur id est, numquam pertinacia voluptaria ei vel. Ancillae consetetur mei ut. Eu est legimus incorrupte, diceret gubergren ut per. Dolor deseruisse vim ei.","Lorem ipsum dolor sit amet, et mel dolorum probatus. Natum oblique luptatum duo ut, possit impedit voluptaria in sit. Ut his dicta mucius feugait, ius aperiam offendit mediocritatem cu. Sea errem prodesset eu, an pri vivendo eloquentiam. Ut mel conceptam dissentias. Atqui veniam his et, prompta bonorum detracto ea sit. Duo eros graece fabulas ut, accusam definitionem interpretaris id ius. No sea tale verear, est an purto decore. Ea porro dolor sed, vis vocent utroque id, vim ex affert equidem consetetur.  Brute harum dictas te eos, at duo inani homero vivendum, ei dico perfecto consectetuer vim. Id nec zril expetenda, eos erat libris sententiae id. Legendos consequuntur te duo, sed id libris eligendi suscipiantur. Eum stet populo complectitur ne, has malorum euismod deleniti ei. Eu amet fabulas oportere sea. In elit invidunt definitiones sed. Natum facilis ex eum, ignota ceteros scriptorem ex duo. Cu pro exerci nemore aliquam. Cu quis splendide ullamcorper sit, eam dolorem fierent ea, ei possit placerat fabellas sed. Et graece malorum pri. Salutatus hendrerit ne sit. Aeterno pertinax dissentiunt cu pro. Ius exerci maluisset patrioque no, ne usu adolescens voluptaria. Deleniti complectitur id est, numquam pertinacia voluptaria ei vel. Ancillae consetetur mei ut. Eu est legimus incorrupte, diceret gubergren ut per. Dolor deseruisse vim ei.","Lorem ipsum dolor sit amet, et mel dolorum probatus. Natum oblique luptatum duo ut, possit impedit voluptaria in sit. Ut his dicta mucius feugait, ius aperiam offendit mediocritatem cu. Sea errem prodesset eu, an pri vivendo eloquentiam. Ut mel conceptam dissentias. Atqui veniam his et, prompta bonorum detracto ea sit. Duo eros graece fabulas ut, accusam definitionem interpretaris id ius. No sea tale verear, est an purto decore. Ea porro dolor sed, vis vocent utroque id, vim ex affert equidem consetetur.  Brute harum dictas te eos, at duo inani homero vivendum, ei dico perfecto consectetuer vim. Id nec zril expetenda, eos erat libris sententiae id. Legendos consequuntur te duo, sed id libris eligendi suscipiantur. Eum stet populo complectitur ne, has malorum euismod deleniti ei. Eu amet fabulas oportere sea. In elit invidunt definitiones sed. Natum facilis ex eum, ignota ceteros scriptorem ex duo. Cu pro exerci nemore aliquam. Cu quis splendide ullamcorper sit, eam dolorem fierent ea, ei possit placerat fabellas sed. Et graece malorum pri. Salutatus hendrerit ne sit. Aeterno pertinax dissentiunt cu pro. Ius exerci maluisset patrioque no, ne usu adolescens voluptaria. Deleniti complectitur id est, numquam pertinacia voluptaria ei vel. Ancillae consetetur mei ut. Eu est legimus incorrupte, diceret gubergren ut per. Dolor deseruisse vim ei.","Hello there!"];function S(t){var e=t.textId;return Object(h.jsx)("div",{id:"container",style:{height:"100vh",verticalAlign:"middle",position:"relative"},children:Object(h.jsx)("div",{style:{margin:0,position:"absolute",top:"50%",transform:"translateY(-50%)"},children:f[e]})})}var g=i(20),m=i(70),j=i.n(m),b=(i(142),i(224)),O=i(80),v=i(26),y=i(12),x=i.n(y),D=i(36),C=i(332).a.initializeApp({apiKey:"AIzaSyB2CQ78YBCVeponJCfN3KGRAYu3G9_aYcY",authDomain:"ohio-voters-e4355.firebaseapp.com",databaseURL:"https://ohio-voters-e4355-default-rtdb.firebaseio.com",projectId:"ohio-voters-e4355",storageBucket:"ohio-voters-e4355.appspot.com",messagingSenderId:"397490319557",appId:"1:397490319557:web:5b15b6dbae2a311dc540ac"}).database(),k=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/ohio_cities.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/ohio_outline.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/ohio_house_district.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/ohio_senate_district.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/us_house_district.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(D.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("data/ohio_zip_codes.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(t,e){var i={dem:[],rep:[]};t.constructor===Object&&null!==t&&(t=Object.keys(t).map((function(e){return t[e]})));var a,n=Object(v.a)(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(void 0!==o){var s;s="STATE_REPRESENTATIVE_DISTRICT"in o?o.STATE_REPRESENTATIVE_DISTRICT:"CITY"in o?o.CITY:"CONGRESSIONAL_DISTRICT"in o?o.CONGRESSIONAL_DISTRICT:o.STATE_SENATE_DISTRICT;var r=o.CODED_PARTY_AFFILIATION*o["Number of Rows (Aggregated)"];if(r>=0){var c=Math.abs(o.CODED_PARTY_AFFILIATION.toFixed(3))+" skew towards Dem";i.dem.push({value:Math.round(r),_id:s,color:"rgba(78, 165, 253, 0.6)",type:e,skew:c,population:o["Number of Rows (Aggregated)"]})}else{var l=Math.abs(o.CODED_PARTY_AFFILIATION.toFixed(3))+" skew towards Rep";i.rep.push({value:Math.round(Math.abs(r)),_id:s,color:"rgba(253, 78, 78, 0.6)",type:e,skew:l,population:o["Number of Rows (Aggregated)"]})}}}}catch(u){n.e(u)}finally{n.f()}return{_id:"Party Affiliation",color:"rgba(78, 165, 253, 0)",children:[{_id:"City"!==e?"Democratic Leaning "+e.slice(0,-2)+"s":"Democratic Leaning Cities",color:"rgba(78, 165, 253, 0.36)",children:i.dem},{_id:"City"!==e?"Republican Leaning "+e.slice(0,-2)+"s":"Republican Leaning Cities",color:"rgba(253, 78, 78, 0.36)",children:i.rep}]}},L=function(t,e){var i={Score:[{id:"Democrat Leaning",data:[]},{id:"Republican Leaning",data:[]}],Primary:[{id:"Democrat Leaning",data:[]},{id:"Republican Leaning",data:[]}],General:[{id:"Democrat Leaning",data:[]},{id:"Republican Leaning",data:[]}],Special:[{id:"Democrat Leaning",data:[]},{id:"Republican Leaning",data:[]}]};t.constructor===Object&&null!==t&&(t=Object.keys(t).map((function(e){return t[e]})));var a,n=Object(v.a)(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(void 0!==o){var s;s="STATE_REPRESENTATIVE_DISTRICT"in o?o.STATE_REPRESENTATIVE_DISTRICT:"CITY"in o?o.CITY:"CONGRESSIONAL_DISTRICT"in o?o.CONGRESSIONAL_DISTRICT:o.STATE_SENATE_DISTRICT;var r=["Score","Primary","General","Special"],c=o.CODED_PARTY_AFFILIATION*o["Number of Rows (Aggregated)"];if(c>=0){var l,u=parseFloat(o.CODED_PARTY_AFFILIATION.toFixed(3)),p=Object(v.a)(r);try{for(p.s();!(l=p.n()).done;){var d=l.value;i[d][0].data.push({size:Math.round(c),_id:s,color:"rgba(78, 165, 253, "+Math.abs(.2+3*u)+")",type:e,x:u,y:o[d],population:o["Number of Rows (Aggregated)"]})}}catch(m){p.e(m)}finally{p.f()}}else{var h,f=parseFloat(o.CODED_PARTY_AFFILIATION.toFixed(3)),S=Object(v.a)(r);try{for(S.s();!(h=S.n()).done;){var g=h.value;i[g][1].data.push({size:Math.round(Math.abs(c)),_id:s,color:"rgba(253, 78, 78, "+(.2+Math.abs(3*f))+")",type:e,x:f,y:o[g],population:o["Number of Rows (Aggregated)"]})}}catch(m){S.e(m)}finally{S.f()}}}}}catch(m){n.e(m)}finally{n.f()}return i},_=function(t,e){var i=[];t.constructor===Object&&null!==t&&(t=Object.keys(t).map((function(e){return t[e]})));var a,n=Object(v.a)(t);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(void 0!==o){var s;s="STATE_REPRESENTATIVE_DISTRICT"in o?o.STATE_REPRESENTATIVE_DISTRICT:"CITY"in o?o.CITY:"CONGRESSIONAL_DISTRICT"in o?o.CONGRESSIONAL_DISTRICT:o.STATE_SENATE_DISTRICT;var r,c=parseFloat(o.CODED_PARTY_AFFILIATION.toFixed(3)),l=parseFloat(o.avg_age.toFixed(2)),u=o.Score,p=o.Primary,d=o.General,h=o.Special;r=c>=0?"rgba(78, 165, 253, "+Math.abs(.2+3*c)+")":"rgba(253, 78, 78, "+(.2+Math.abs(3*c))+")",i.push({age:l,_id:s,color:r,type:e,skew:c,score:u,primary:p,general:d,special:h,population:o["Number of Rows (Aggregated)"]})}}}catch(f){n.e(f)}finally{n.f()}return i=i.sort((function(t,e){return t.age>e.age?1:-1}))},N=(i(157),["Ohio House Districts","Ohio Senate Districts","US House Districts","Cities"]),Z=N[0],F=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={stateHouseStats:null,stateSenateStats:null,congressionalStats:null,cityStats:null,selected:null,labelSkip:10},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this;C.ref("summaryStats/stateHouseDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateHouseStats:w(e,"Ohio House District: "),selected:"stateHouseStats"})})),C.ref("summaryStats/stateSenateDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateSenateStats:w(e,"Ohio Senate District: ")})})),C.ref("summaryStats/congressionalDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({congressionalStats:w(e,"US House District: ")})})),C.ref("summaryStats/cities").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({cityStats:w(e,"City: ")})}))}},{key:"render",value:function(){var t=this;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{style:{width:"55%",paddingRight:"5%",paddingBottom:"75px",paddingLeft:"5%",height:"calc(100vh - 150px)",position:"fixed",right:"0",top:"75"},children:[Object(h.jsx)("div",{style:{marginBottom:-85,paddingTop:50,zIndex:100},children:" Bipartisan Leans for Ohio AAPIs"}),this.state.selected&&Object(h.jsx)(b.a,{data:"cityStats"===t.state.selected?t.state.cityStats:"stateHouseStats"===t.state.selected?t.state.stateHouseStats:"stateSenateStats"===t.state.selected?t.state.stateSenateStats:t.state.congressionalStats,margin:0,id:"_id",value:"value",colors:function(t){return t.data.color},childColor:{from:"color",modifiers:[["brighter",.4]]},colorBy:function(t){return t.color},padding:4,enableLabels:!0,labelsFilter:function(t){return 2===t.node.depth},labelsSkipRadius:this.state.labelSkip,labelTextColor:{from:"color",modifiers:[["darker",2]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.5]]},tooltip:function(t){return Object(h.jsxs)(h.Fragment,{children:[t.data.value&&Object(h.jsxs)("div",{id:"container",style:{backgroundColor:"rgba(256, 256, 256, 0.4)",padding:"0.25em"},children:[Object(h.jsxs)("p",{style:{lineHeight:0},children:[t.data.type,t.data._id]}),Object(h.jsx)("p",{style:{lineHeight:0},children:t.data.skew}),Object(h.jsxs)("p",{style:{lineHeight:0},children:["Population: ",t.data.population]})]}),!t.data.value&&Object(h.jsx)("div",{id:"container",style:{backgroundColor:"rgba(256, 256, 256, 0.4)",padding:"0.25em"},children:Object(h.jsx)("p",{style:{lineHeight:0},children:t.data._id})})]})},defs:[{id:"lines",type:"patternLines",background:"none",color:"hsl(192, 70%, 50%)",rotation:-45,lineWidth:0,spacing:0,opacity:0}],fill:[{match:{depth:0},id:"lines"}]}),Object(h.jsx)("div",{style:{width:"50%",marginTop:-85,marginLeft:"25%"},children:Object(h.jsx)(j.a,{options:N,onChange:function(e){var i;"Cities"===(i=e.label)?(t.setState({selected:"cityStats"}),t.setState({labelSkip:25})):"Ohio House Districts"===i?(t.setState({selected:"stateHouseStats"}),t.setState({labelSkip:10})):"Ohio Senate Districts"===i?(t.setState({selected:"stateSenateStats"}),t.setState({labelSkip:10})):(t.setState({selected:"congressionalStats"}),t.setState({labelSkip:10}))},value:Z,placeholder:"Select an option"})})]})})}}]),i}(a.Component),z=i(328),P=["Ohio House Districts","Ohio Senate Districts","US House Districts","Cities"],H=P[0],G=["All Elections","Primary Elections","General Elections","Special Elections"],M=G[0],B=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={stateHouseStats:null,stateSenateStats:null,congressionalStats:null,cityStats:null,selectedArea:null,selectedScore:null},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this;C.ref("summaryStats/stateHouseDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateHouseStats:L(e,"Ohio House District: "),selectedArea:"stateHouseStats",selectedScore:"Score"})})),C.ref("summaryStats/stateSenateDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateSenateStats:L(e,"Ohio Senate District: ")})})),C.ref("summaryStats/congressionalDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({congressionalStats:L(e,"US House District: ")})})),C.ref("summaryStats/cities").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({cityStats:L(e,"City: ")})}))}},{key:"render",value:function(){var t=this;return this.state.cityStats&&console.log(this.state.cityStats.Special),Object(h.jsxs)("div",{style:{width:"55%",paddingRight:"5%",paddingBottom:"75px",paddingLeft:"5%",height:"calc(100vh - 150px)",position:"fixed",right:"0",top:"75"},children:[Object(h.jsx)("div",{style:{marginBottom:-45,paddingTop:0,zIndex:100},children:" Bipartisan Relationships with Ohio AAPI Voter Turnout"}),this.state.selectedArea&&this.state.selectedScore&&Object(h.jsx)(z.a,{animate:"cityStats"!==this.state.selectedArea,data:"cityStats"===t.state.selectedArea?t.state.cityStats[t.state.selectedScore]:"stateHouseStats"===t.state.selectedArea?t.state.stateHouseStats[t.state.selectedScore]:"stateSenateStats"===t.state.selectedArea?t.state.stateSenateStats[t.state.selectedScore]:t.state.congressionalStats[t.state.selectedScore],colors:function(t){return t.color},style:{color:"white"},nodeSize:12,margin:{top:100,right:100,bottom:150,left:100},xScale:{type:"linear",min:"auto",max:"auto"},xFormat:function(t){return t},yScale:{type:"linear",min:"auto",max:"auto"},yFormat:function(t){return t},blendMode:"multiply",axisTop:null,axisFormat:{color:"white"},tooltip:function(t){var e=t.node;return Object(h.jsxs)("div",{style:{color:e.style.color,background:"#333",padding:"12px 16px"},children:[Object(h.jsxs)("strong",{children:[e.data.type," ",e.data._id]}),Object(h.jsx)("br",{}),"Bipartisan Skew: ".concat(e.data.x),Object(h.jsx)("br",{}),"Engagement: ".concat(e.data.y.toFixed(3))]})},axisRight:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0},axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"Bipartisan Skew",legendPosition:"middle",legendOffset:46},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Voter Engagement Score",legendPosition:"middle",legendOffset:-60}}),Object(h.jsxs)("div",{style:{width:"80%",marginTop:-85,marginLeft:"25%",display:"flex",flexDirection:"horizontal"},children:[Object(h.jsx)(j.a,{style:{width:200},options:P,onChange:function(e){var i;"Cities"===(i=e.label)?t.setState({selectedArea:"cityStats"}):"Ohio House Districts"===i?t.setState({selectedArea:"stateHouseStats"}):"Ohio Senate Districts"===i?t.setState({selectedArea:"stateSenateStats"}):t.setState({selectedArea:"congressionalStats"})},value:H,placeholder:"Select an option"}),Object(h.jsx)(j.a,{style:{width:200},options:G,onChange:function(e){var i;"All Elections"===(i=e.label)?t.setState({selectedScore:"Score"}):"Primary Elections"===i?t.setState({selectedScore:"Primary"}):"General Elections"===i?t.setState({selectedScore:"General"}):t.setState({selectedScore:"Special"})},value:M,placeholder:"Select an option"})]})]})}}]),i}(a.Component),Y=i(185),q=["Ohio House Districts","Ohio Senate Districts","US House Districts","Cities"],V=q[0],U=["All Elections","Primary Elections","General Elections","Special Elections"],W=U[0],K=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={stateHouseStats:null,stateSenateStats:null,congressionalStats:null,cityStats:null,selectedArea:null,selectedScore:null},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this;C.ref("summaryStats/stateHouseDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateHouseStats:_(e,"Ohio House District: "),selectedArea:"stateHouseStats",selectedScore:"score"})})),C.ref("summaryStats/stateSenateDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({stateSenateStats:_(e,"Ohio Senate District: ")})})),C.ref("summaryStats/congressionalDistricts").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({congressionalStats:_(e,"US House District: ")})})),C.ref("summaryStats/cities").once("value").then((function(t){return t.val()})).then((function(e){return t.setState({cityStats:_(e,"City: ")})}))}},{key:"render",value:function(){var t=this,e=function(){return"cityStats"===t.state.selectedArea?t.state.cityStats:"stateHouseStats"===t.state.selectedArea?t.state.stateHouseStats:"stateSenateStats"===t.state.selectedArea?t.state.stateSenateStats:t.state.congressionalStats};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{style:{width:"55%",paddingRight:"5%",paddingBottom:"75px",paddingLeft:"5%",height:"calc(43vh - 150px)",position:"fixed",right:"0",top:"75"},children:[this.state.selectedArea&&this.state.selectedScore&&Object(h.jsx)(Y.a,{data:e(),keys:["age"],indexBy:"_id",margin:{top:10,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"linear",round:!0},colors:{scheme:"nivo"},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Average Age",legendPosition:"middle",legendOffset:-40},labelSkipWidth:40,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15}),this.state.selectedArea&&this.state.selectedScore&&Object(h.jsx)(Y.a,{data:e(),keys:["skew"],indexBy:"_id",margin:{top:0,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:function(t){return t.data.color},borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Bipartisan Skew",legendPosition:"middle",legendOffset:-40},labelSkipWidth:40,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15}),this.state.selectedArea&&this.state.selectedScore&&Object(h.jsx)(Y.a,{data:e(),keys:[this.state.selectedScore],indexBy:"_id",margin:{top:0,right:130,bottom:50,left:60},padding:.3,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:"green",borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:null,axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Election Turnout Score",legendPosition:"middle",legendOffset:-40},labelSkipWidth:40,labelSkipHeight:40,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},animate:!0,motionStiffness:90,motionDamping:15}),Object(h.jsxs)("div",{style:{width:"80%",marginTop:-45,marginLeft:"25%",display:"flex",flexDirection:"horizontal"},children:[Object(h.jsx)(j.a,{style:{width:200},options:q,onChange:function(e){var i;"Cities"===(i=e.label)?t.setState({selectedArea:"cityStats"}):"Ohio House Districts"===i?t.setState({selectedArea:"stateHouseStats"}):"Ohio Senate Districts"===i?t.setState({selectedArea:"stateSenateStats"}):t.setState({selectedArea:"congressionalStats"})},value:V,placeholder:"Select an option"}),Object(h.jsx)(j.a,{style:{width:200},options:U,onChange:function(e){var i;"All Elections"===(i=e.label)?t.setState({selectedScore:"score"}):"Primary Elections"===i?t.setState({selectedScore:"primary"}):"General Elections"===i?t.setState({selectedScore:"general"}):t.setState({selectedScore:"special"})},value:W,placeholder:"Select an option"})]})]})})}}]),i}(a.Component),J=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){return console.log(this.props.vizId),Object(h.jsxs)(h.Fragment,{children:[0===this.props.vizId&&Object(h.jsx)(F,{}),1===this.props.vizId&&Object(h.jsx)(B,{}),2===this.props.vizId&&Object(h.jsx)(K,{}),Object(h.jsx)("div",{})]})}}]),i}(a.Component),Q=i(186),X=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={vizId:0},t}return Object(u.a)(i,[{key:"render",value:function(){var t=this;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{style:{flexDirection:"row",display:"flex"},children:[Object(h.jsxs)("div",{style:{width:"30%",marginBottom:"10vh",marginRight:"0",paddingLeft:"5%"},children:[Object(h.jsx)(Q.a,{onEnter:function(){return t.setState({vizId:0})},bottomOffset:"30%",topOffSet:"30%",children:Object(h.jsx)("div",{children:Object(h.jsx)(S,{textId:0})})}),Object(h.jsx)(Q.a,{onEnter:function(){return t.setState({vizId:1})},bottomOffset:"30%",topOffset:"30%",children:Object(h.jsx)("div",{children:Object(h.jsx)(S,{textId:0})})}),Object(h.jsx)(Q.a,{onEnter:function(){return t.setState({vizId:2})},bottomOffset:"30%",topOffset:"30%",children:Object(h.jsx)("div",{children:Object(h.jsx)(S,{textId:0})})})]}),Object(h.jsx)(J,{vizId:this.state.vizId})]})})}}]),i}(a.Component),$=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(X,{})})}}]),i}(a.Component),tt=i(43),et=i(29),it=i(130),at=i(86),nt=i(182),ot=i(183),st=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){return Object(h.jsx)("div",{style:{width:500,height:500,margin:10,display:"flex",justifyContent:"center",alignItems:"center",color:"#bbb",fontSize:20},children:Object(h.jsxs)("p",{children:[Object(h.jsx)(nt.a,{icon:ot.a,pulse:!0})," Loading..."]})})}}]),i}(a.Component),rt=i(549),ct="#ff3a3a",lt="#2462ff",ut=O.a().domain([-1,1]).range([ct,lt]),pt=O.a().domain([-1,1]).range([110,490]),dt=function(t){return ut(t)},ht=function(t){return Object(h.jsxs)("svg",{width:500,height:100,children:[Object(h.jsx)(rt.a,{id:"gradient",from:ct,to:lt,vertical:!1}),Object(h.jsx)("rect",{x:110,y:30,width:380,height:24,fill:"url('#gradient')"}),Object(h.jsx)("text",{x:10,y:46,fill:"white",children:"Party Skew"}),Object(h.jsx)("text",{x:110,y:75,textAnchor:"middle",fill:"white",children:"-1"}),Object(h.jsx)("text",{x:300,y:75,textAnchor:"middle",fill:"white",children:"0"}),Object(h.jsx)("text",{x:490,y:75,textAnchor:"middle",fill:"white",children:"1"}),t.position&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("text",{x:pt(t.position),y:20,fill:"white",textAnchor:"middle",children:t.position.toFixed(4)}),Object(h.jsx)("rect",{x:pt(t.position)-1,y:28,width:2,height:26,fill:"white"})]})]})},ft=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={ohioCities:null,ohioOutline:null,ohioZipcodes:null,projection:null,clickedCity:null,clickedCityGeography:null,clickedZipcode:null,tooltipContent:"",loading:!0,hoveringSkew:null},t.handleGeographyClicked=function(e){e.properties.NAME===t.state.clickedCity?t.zoomToOhio():t.zoomToCity(e)},t.zoomToOhio=function(){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],t.state.ohioOutline),clickedCity:null,clickedCityGeography:null}),t.props.setStatData(null,null)},t.zoomToCity=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),C.ref("summaryStats/cities/".concat(e.properties.NAME.toLocaleUpperCase())).once("value").then((function(t){return t.val()})).then((function(i){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],e),clickedCity:e.properties.NAME,clickedCityGeography:e,clickedZipcode:null,loading:!1}),t.props.setStatData(i,"cities")}))},t.handleZipcodeClicked=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),e.properties.ZCTA5CE10!==t.state.clickedZipcode&&C.ref("summaryStats/zipcodes/".concat(e.properties.ZCTA5CE10)).once("value").then((function(t){return t.val()})).then((function(i){t.props.setStatData(i||{RESIDENTIAL_ZIP:e.properties.ZCTA5CE10,noData:!0},"zipcode"),t.setState({clickedZipcode:e.properties.ZCTA5CE10,projection:e&&Object(it.a)().fitExtent([[20,20],[480,380]],e),loading:!1})}))},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=[k(),T(),R()];Promise.all(e).then(function(){var e=Object(D.a)(x.a.mark((function e(i){var a,n,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(i,3),n=a[0],o=a[1],s=a[2],e.next=3,C.ref("summaryStats/cities").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 3:return e.next=5,C.ref("summaryStats/zipcodes").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 5:t.setState({ohioCities:n,ohioOutline:o,ohioZipcodes:s,projection:Object(it.a)().fitExtent([[20,20],[480,380]],o),loading:!1}),t.props.setLoadingStatData(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var t=this;return this.state.loading?Object(h.jsx)(st,{}):this.state.ohioCities&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(et.ComposableMap,{projection:this.state.projection,"data-tip":this.state.tooltipContent,width:500,height:400,style:{margin:10},children:[Object(h.jsx)(et.Geographies,{geography:this.state.ohioOutline,children:function(t){return t.geographies.map((function(t){return Object(h.jsx)(et.Geography,{geography:t,fill:"transparent",stroke:"black"},t.rsmKey)}))}}),this.state.clickedCity&&Object(h.jsx)(et.Geographies,{geography:this.state.ohioZipcodes,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",stroke:"black",strokeWidth:t.state.clickedZipcode===e.properties.ZCTA5CE10?2:1,fill:dt(t.state[e.properties.ZCTA5CE10]),onClick:function(){return t.handleZipcodeClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>Zipcode ".concat(e.properties.ZCTA5CE10,"</p>"),hoveringSkew:t.state[e.properties.ZCTA5CE10]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}}),Object(h.jsx)(et.Geographies,{geography:this.state.ohioCities,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",fill:t.state.clickedCity?"none":dt(t.state[e.properties.NAME.toLocaleUpperCase()]),stroke:"black",strokeWidth:e.properties.NAME===t.state.clickedCity?2:1,onClick:function(){return t.handleGeographyClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>".concat(e.properties.NAME,"</p>"),hoveringSkew:t.state[e.properties.NAME.toLocaleUpperCase()]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}})]}),Object(h.jsx)(ht,{position:this.state.hoveringSkew}),this.state.clickedCity&&!this.state.clickedZipcode&&Object(h.jsx)("button",{onClick:this.zoomToOhio,children:"Back to Ohio"}),this.state.clickedZipcode&&Object(h.jsxs)("button",{onClick:function(){return t.zoomToCity(t.state.clickedCityGeography)},children:["Back to ",this.state.clickedCity]}),Object(h.jsx)(at.a,{html:!0,children:this.state.tooltipContent})]})}}]),i}(a.Component),St=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={ohioSenateDistricts:null,ohioZipcodes:null,projection:null,clickedDistrict:null,clickedDistrictGeography:null,clickedZipcode:null,tooltipContent:"",loading:!0,hoveringSkew:null},t.handleGeographyClicked=function(e){e.properties.DISTRICT===t.state.clickedDistrict?t.zoomToOhio():t.zoomToDistrict(e)},t.zoomToOhio=function(){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],t.state.ohioSenateDistricts),clickedDistrict:null,clickedDistrictGeography:null}),t.props.setStatData(null,null)},t.zoomToDistrict=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),C.ref("summaryStats/stateSenateDistricts/".concat(e.properties.DISTRICT)).once("value").then((function(t){return t.val()})).then((function(i){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],e),clickedDistrict:e.properties.DISTRICT,clickedDistrictGeography:e,clickedZipcode:null,loading:!1}),t.props.setStatData(i,"stateSenateDistrict")}))},t.handleZipcodeClicked=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),e.properties.ZCTA5CE10!==t.state.clickedZipcode&&C.ref("summaryStats/zipcodes/".concat(e.properties.ZCTA5CE10)).once("value").then((function(t){return t.val()})).then((function(i){t.props.setStatData(i||{RESIDENTIAL_ZIP:e.properties.ZCTA5CE10,noData:!0},"zipcode"),t.setState({clickedZipcode:e.properties.ZCTA5CE10,projection:e&&Object(it.a)().fitExtent([[20,20],[480,380]],e),loading:!1})}))},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=[E(),R()];Promise.all(e).then(function(){var e=Object(D.a)(x.a.mark((function e(i){var a,n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(i,2),n=a[0],o=a[1],e.next=3,C.ref("summaryStats/stateSenateDistricts").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 3:return e.next=5,C.ref("summaryStats/zipcodes").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 5:t.setState({ohioSenateDistricts:n,ohioZipcodes:o,projection:Object(it.a)().fitExtent([[20,20],[480,380]],n),loading:!1}),t.props.setLoadingStatData(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var t=this;return this.state.loading?Object(h.jsx)(st,{}):this.state.ohioSenateDistricts&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(et.ComposableMap,{projection:this.state.projection,"data-tip":this.state.tooltipContent,width:500,height:400,style:{margin:10},children:[this.state.clickedDistrict&&Object(h.jsx)(et.Geographies,{geography:this.state.ohioZipcodes,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",stroke:"black",strokeWidth:t.state.clickedZipcode===e.properties.ZCTA5CE10?2:1,fill:dt(t.state[e.properties.ZCTA5CE10]),onClick:function(){return t.handleZipcodeClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>Zipcode ".concat(e.properties.ZCTA5CE10,"</p>"),hoveringSkew:t.state[e.properties.ZCTA5CE10]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}}),Object(h.jsx)(et.Geographies,{geography:this.state.ohioSenateDistricts,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",fill:t.state.clickedDistrict?"none":dt(t.state[e.properties.DISTRICT]),stroke:"black",strokeWidth:e.properties.DISTRICT===t.state.clickedDistrict?2:1,onClick:function(){return t.handleGeographyClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>District ".concat(e.properties.DISTRICT,"</p><p>Incumbent: ").concat(e.properties.FIRSTNAME," ").concat(e.properties.LASTNAME," (").concat(e.properties.PARTY,")</p>"),hoveringSkew:t.state[e.properties.DISTRICT]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}})]}),Object(h.jsx)(ht,{position:this.state.hoveringSkew}),this.state.clickedDistrict&&!this.state.clickedZipcode&&Object(h.jsx)("button",{onClick:this.zoomToOhio,children:"Back to Ohio"}),this.state.clickedZipcode&&Object(h.jsxs)("button",{onClick:function(){return t.zoomToDistrict(t.state.clickedDistrictGeography)},children:["Back to District ",this.state.clickedDistrict]}),Object(h.jsx)(at.a,{html:!0,children:this.state.tooltipContent})]})}}]),i}(a.Component),gt=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={usHouseDistricts:null,ohioZipcodes:null,projection:null,clickedDistrict:null,clickedDistrictGeography:null,clickedZipcode:null,tooltipContent:"",loading:!0,hoveringSkew:null},t.handleGeographyClicked=function(e){e.properties.DISTRICT===t.state.clickedDistrict?t.zoomToOhio():t.zoomToDistrict(e)},t.zoomToOhio=function(){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],t.state.usHouseDistricts),clickedDistrict:null,clickedDistrictGeography:null}),t.props.setStatData(null,null)},t.zoomToDistrict=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),C.ref("summaryStats/congressionalDistricts/".concat(e.properties.DISTRICT)).once("value").then((function(t){return t.val()})).then((function(i){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],e),clickedDistrict:e.properties.DISTRICT,clickedDistrictGeography:e,clickedZipcode:null,loading:!1}),t.props.setStatData(i,"usHouseDistrict")}))},t.handleZipcodeClicked=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),e.properties.ZCTA5CE10!==t.state.clickedZipcode&&C.ref("summaryStats/zipcodes/".concat(e.properties.ZCTA5CE10)).once("value").then((function(t){return t.val()})).then((function(i){t.props.setStatData(i||{RESIDENTIAL_ZIP:e.properties.ZCTA5CE10,noData:!0},"zipcode"),t.setState({clickedZipcode:e.properties.ZCTA5CE10,projection:e&&Object(it.a)().fitExtent([[20,20],[480,380]],e),loading:!1})}))},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=[I(),R()];Promise.all(e).then(function(){var e=Object(D.a)(x.a.mark((function e(i){var a,n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(i,2),n=a[0],o=a[1],e.next=3,C.ref("summaryStats/congressionalDistricts").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 3:return e.next=5,C.ref("summaryStats/zipcodes").once("value").then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 5:t.setState({usHouseDistricts:n,ohioZipcodes:o,projection:Object(it.a)().fitExtent([[20,20],[480,380]],n),loading:!1}),t.props.setLoadingStatData(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var t=this;return this.state.loading?Object(h.jsx)(st,{}):this.state.usHouseDistricts&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(et.ComposableMap,{projection:this.state.projection,"data-tip":this.state.tooltipContent,width:500,height:400,style:{margin:10},children:[this.state.clickedDistrict&&Object(h.jsx)(et.Geographies,{geography:this.state.ohioZipcodes,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",stroke:"black",strokeWidth:t.state.clickedZipcode===e.properties.ZCTA5CE10?2:1,fill:dt(t.state[e.properties.ZCTA5CE10]),onClick:function(){return t.handleZipcodeClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>Zipcode ".concat(e.properties.ZCTA5CE10,"</p>"),hoveringSkew:t.state[e.properties.ZCTA5CE10]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}}),Object(h.jsx)(et.Geographies,{geography:this.state.usHouseDistricts,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",fill:t.state.clickedDistrict?"none":dt(t.state[e.properties.DISTRICT]),stroke:"black",strokeWidth:e.properties.DISTRICT===t.state.clickedDistrict?2:1,onClick:function(){return t.handleGeographyClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>District ".concat(e.properties.DISTRICT,"</p><p>Incumbent: ").concat(e.properties.FIRSTNAME," ").concat(e.properties.LASTNAME," (").concat(e.properties.PARTY,")</p>"),hoveringSkew:t.state[e.properties.DISTRICT]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}})]}),Object(h.jsx)(ht,{position:this.state.hoveringSkew}),this.state.clickedDistrict&&!this.state.clickedZipcode&&Object(h.jsx)("button",{onClick:this.zoomToOhio,children:"Back to Ohio"}),this.state.clickedZipcode&&Object(h.jsxs)("button",{onClick:function(){return t.zoomToDistrict(t.state.clickedDistrictGeography)},children:["Back to District ",this.state.clickedDistrict]}),Object(h.jsx)(at.a,{html:!0,children:this.state.tooltipContent})]})}}]),i}(a.Component),mt=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={ohioHouseDistricts:null,ohioZipcodes:null,projection:null,clickedDistrict:null,clickedDistrictGeography:null,clickedZipcode:null,tooltipContent:"",loading:!0,hoveringSkew:null},t.handleGeographyClicked=function(e){e.properties.DISTRICT===t.state.clickedDistrict?t.zoomToOhio():t.zoomToDistrict(e)},t.zoomToOhio=function(){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],t.state.ohioHouseDistricts),clickedDistrict:null,clickedDistrictGeography:null}),t.props.setStatData(null,null)},t.zoomToDistrict=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),C.ref("summaryStats/stateHouseDistricts/".concat(e.properties.DISTRICT)).once("value").then((function(t){return t.val()})).then((function(i){t.setState({projection:Object(it.a)().fitExtent([[20,20],[480,380]],e),clickedDistrict:e.properties.DISTRICT,clickedDistrictGeography:e,clickedZipcode:null,loading:!1}),t.props.setStatData(i,"stateHouseDistrict")}))},t.handleZipcodeClicked=function(e){t.setState({loading:!0}),t.props.setLoadingStatData(!0),e.properties.ZCTA5CE10!==t.state.clickedZipcode&&C.ref("summaryStats/zipcodes/".concat(e.properties.ZCTA5CE10)).once("value").then((function(t){return t.val()})).then((function(i){t.props.setStatData(i||{RESIDENTIAL_ZIP:e.properties.ZCTA5CE10,noData:!0},"zipcode"),t.setState({clickedZipcode:e.properties.ZCTA5CE10,projection:e&&Object(it.a)().fitExtent([[20,20],[480,380]],e),loading:!1})}))},t}return Object(u.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=[A(),R()];Promise.all(e).then(function(){var e=Object(D.a)(x.a.mark((function e(i){var a,n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(i,2),n=a[0],o=a[1],e.next=3,C.ref("summaryStats/stateHouseDistricts").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 3:return e.next=5,C.ref("summaryStats/zipcodes").get().then((function(e){e.forEach((function(e){t.setState(Object(tt.a)({},e.key,e.val().CODED_PARTY_AFFILIATION))}))}));case 5:t.setState({ohioHouseDistricts:n,ohioZipcodes:o,projection:Object(it.a)().fitExtent([[20,20],[480,380]],n),loading:!1}),t.props.setLoadingStatData(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){var t=this;return this.state.loading?Object(h.jsx)(st,{}):this.state.ohioHouseDistricts&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(et.ComposableMap,{projection:this.state.projection,"data-tip":this.state.tooltipContent,width:500,height:400,style:{margin:10},children:[this.state.clickedDistrict&&Object(h.jsx)(et.Geographies,{geography:this.state.ohioZipcodes,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",stroke:"black",strokeWidth:t.state.clickedZipcode===e.properties.ZCTA5CE10?2:1,fill:dt(t.state[e.properties.ZCTA5CE10]),onClick:function(){return t.handleZipcodeClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>Zipcode ".concat(e.properties.ZCTA5CE10,"</p>"),hoveringSkew:t.state[e.properties.ZCTA5CE10]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}}),Object(h.jsx)(et.Geographies,{geography:this.state.ohioHouseDistricts,children:function(e){return e.geographies.map((function(e){return Object(h.jsx)(et.Geography,{geography:e,className:"hover-geography",fill:t.state.clickedDistrict?"none":dt(t.state[e.properties.DISTRICT]),stroke:"black",strokeWidth:e.properties.DISTRICT===t.state.clickedDistrict?2:1,onClick:function(){return t.handleGeographyClicked(e)},onMouseEnter:function(){return t.setState({tooltipContent:"<p>District ".concat(e.properties.DISTRICT,"</p><p>Incumbent: ").concat(e.properties.FIRSTNAME," ").concat(e.properties.LASTNAME," (").concat(e.properties.PARTY,")</p>"),hoveringSkew:t.state[e.properties.DISTRICT]})},onMouseLeave:function(){return t.setState({tooltipContent:"",hoveringSkew:null})}},e.rsmKey)}))}})]}),Object(h.jsx)(ht,{position:this.state.hoveringSkew}),this.state.clickedDistrict&&!this.state.clickedZipcode&&Object(h.jsx)("button",{onClick:this.zoomToOhio,children:"Back to Ohio"}),this.state.clickedZipcode&&Object(h.jsxs)("button",{onClick:function(){return t.zoomToDistrict(t.state.clickedDistrictGeography)},children:["Back to District ",this.state.clickedDistrict]}),Object(h.jsx)(at.a,{html:!0,children:this.state.tooltipContent})]})}}]),i}(a.Component),jt=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).getHeader=function(){return t.props.localityType?"usHouseDistrict"===t.props.localityType?"US House District: ".concat(t.props.statData.CONGRESSIONAL_DISTRICT):"stateSenateDistrict"===t.props.localityType?"Ohio Senate District: ".concat(t.props.statData.STATE_SENATE_DISTRICT):"stateHouseDistrict"===t.props.localityType?"Ohio House District: ".concat(t.props.statData.STATE_REPRESENTATIVE_DISTRICT):"cities"===t.props.localityType?"City: ".concat(t.props.statData.CITY):"zipcode"===t.props.localityType?"Zipcode: ".concat(t.props.statData.RESIDENTIAL_ZIP):void 0:"Ohio"},t.getData=function(){return t.props.statData?t.props.statData.noData?{Error:"No data found"}:{Age:"".concat(t.props.statData.avg_age.toFixed(2)," \xb1 ").concat((t.props.statData.age_stddev||0).toFixed(2)),"Party Skew":t.props.statData.CODED_PARTY_AFFILIATION.toFixed(5),"# Registered Voters":t.props.statData["Number of Rows (Aggregated)"],"Overall AVES":t.props.statData.Score.toFixed(3),"General Election AVES":t.props.statData.General.toFixed(3),"Primary Election AVES":t.props.statData.Primary.toFixed(3),"Special Election AVES":t.props.statData.Special.toFixed(3)}:{Age:"46.11 \xb1 17.98","Party Skew":"0.03040","# Registered Voters":"180871","Overall AVES":"0.140","General Election AVES":"0.259","Primary Election AVES":"0.052","Special Election AVES":"0.023"}},t}return Object(u.a)(i,[{key:"render",value:function(){return Object(h.jsxs)("div",{style:{width:"30%"},children:[Object(h.jsx)("h2",{children:"Locality AAPI Statistics:"}),this.props.loading?Object(h.jsx)("div",{style:{width:"100%",border:"1px solid white",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",height:310,color:"#bbb",fontSize:20},children:Object(h.jsxs)("p",{children:[Object(h.jsx)(nt.a,{icon:ot.a,pulse:!0})," Loading..."]})}):Object(h.jsxs)("div",{style:{width:"100%",height:310,border:"1px solid white",borderRadius:4},children:[Object(h.jsx)("h3",{children:this.getHeader()}),Object.entries(this.getData()).map((function(t){var e=Object(g.a)(t,2),i=e[0],a=e[1];return Object(h.jsxs)("p",{children:[i,": ",a]},i)}))]})]})}}]),i}(a.Component),bt=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){var t;Object(l.a)(this,i);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))).state={selectedTab:0,statData:null,localityType:null,loadingStatData:!0},t.setStatData=function(e,i){return t.setState({statData:e,localityType:i,loadingStatData:!1})},t.toggleSelectedTab=function(e){e!==t.state.selectedTab&&t.setState({selectedTab:e,statData:null,localityType:null,loadingStatData:!0})},t.setLoadingStatData=function(e){return t.setState({loadingStatData:e})},t}return Object(u.a)(i,[{key:"render",value:function(){var t=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{style:{padding:20},children:[Object(h.jsx)("button",{className:0===this.state.selectedTab&&"selected",onClick:function(){return t.toggleSelectedTab(0)},children:"US House District"}),Object(h.jsx)("button",{className:1===this.state.selectedTab&&"selected",onClick:function(){return t.toggleSelectedTab(1)},children:"Ohio Senate District"}),Object(h.jsx)("button",{className:2===this.state.selectedTab&&"selected",onClick:function(){return t.toggleSelectedTab(2)},children:"Ohio House District"}),Object(h.jsx)("button",{className:3===this.state.selectedTab&&"selected",onClick:function(){return t.toggleSelectedTab(3)},children:"Cities"})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"},children:[Object(h.jsxs)("div",{style:{width:"50%",height:500},children:[0===this.state.selectedTab&&Object(h.jsx)(gt,{setStatData:this.setStatData,setLoadingStatData:this.setLoadingStatData}),1===this.state.selectedTab&&Object(h.jsx)(St,{setStatData:this.setStatData,setLoadingStatData:this.setLoadingStatData}),2===this.state.selectedTab&&Object(h.jsx)(mt,{setStatData:this.setStatData,setLoadingStatData:this.setLoadingStatData}),3===this.state.selectedTab&&Object(h.jsx)(ft,{setStatData:this.setStatData,setLoadingStatData:this.setLoadingStatData})]}),Object(h.jsx)(jt,{localityType:this.state.localityType,statData:this.state.statData,loading:this.state.loadingStatData})]})]})}}]),i}(a.Component),Ot=function(t){Object(p.a)(i,t);var e=Object(d.a)(i);function i(){return Object(l.a)(this,i),e.apply(this,arguments)}return Object(u.a)(i,[{key:"render",value:function(){return Object(h.jsx)("div",{children:"Writeup page"})}}]),i}(a.Component);var vt=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("nav",{children:[Object(h.jsx)(r.b,{to:"/story",children:"Story"}),Object(h.jsx)(r.b,{to:"/map",children:"Map"}),Object(h.jsx)(r.b,{to:"/about",children:"About"})]}),Object(h.jsxs)(c.d,{children:[Object(h.jsx)(c.b,{exact:!0,path:"/",children:Object(h.jsx)(c.a,{to:"/story"})}),Object(h.jsx)(c.b,{exact:!0,path:"/story",component:$}),Object(h.jsx)(c.b,{exact:!0,path:"/map",component:bt}),Object(h.jsx)(c.b,{exact:!0,path:"/about",component:Ot})]})]})},yt=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,551)).then((function(e){var i=e.getCLS,a=e.getFID,n=e.getFCP,o=e.getLCP,s=e.getTTFB;i(t),a(t),n(t),o(t),s(t)}))};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(r.a,{children:Object(h.jsx)(vt,{})})}),document.getElementById("root")),yt()}},[[492,1,2]]]);
//# sourceMappingURL=main.b4522df9.chunk.js.map